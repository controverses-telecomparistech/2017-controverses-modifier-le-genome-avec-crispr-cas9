<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>WebGL model renderer</title>
    <script src="three.min.js"></script>
    <script src="ConnectorSegments.js"></script>
    <link rel="stylesheet" href="colorbox.css" />
    <script src="jquery.min.js"></script>
    <script src="./jquery.colorbox.js"></script>
    <script src="simplebar.js"></script>
    <link rel="stylesheet" href="simplebar.css" />
    <link rel="stylesheet" href="crispr.css" />
  </head>
  <body>
    <div class="navbar">
      <div id="title"><h2>CRISPR/CAS9</h2></div>
      <div id="subtitle">Une polémique sur le futur<br>de la manipulation génétique</div>
    </div>
    
    <div id="cover">
      <!-- <div id="scrollDown">&nbsp;Des détails, en veux-tu ? J'en ai plein ...&nbsp;</div> -->
      <img src="images/bouton.svg" id="scrollDown" width="25%" height="25%"></img>
    </div>
    <div id="inner">
      <div id="introduction" data-simplebar>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec pellentesque pulvinar enim, in dignissim velit ullamcorper nec. Suspendisse vel lorem eu massa pharetra porttitor. Quisque venenatis tempor dolor. Etiam egestas nisl quis dapibus venenatis. Mauris cursus placerat lectus ut placerat. Sed gravida volutpat dapibus. Pellentesque vulputate mauris sed sapien eleifend varius.</p>
        
        <p>Nullam tempus consectetur ipsum et tristique. Vivamus eget facilisis libero. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Aliquam neque elit, vehicula et dui non, consectetur egestas diam. Phasellus ut sapien vel neque fermentum faucibus. Sed ac iaculis quam, at gravida nulla. Nunc in mi et massa tempus ullamcorper. Vivamus pulvinar ut ante et consectetur. Ut placerat lacus a orci hendrerit ultricies. Proin id felis a elit aliquet ultrices vitae eu libero. Donec volutpat quis elit sit amet euismod. Morbi orci ligula, feugiat non sagittis vitae, semper id libero. Integer pellentesque non tellus a pretium.</p>
        
        <p>Curabitur tempor metus a justo rutrum rhoncus. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. In posuere libero at turpis scelerisque cursus. Nullam nunc lorem, sodales eget blandit at, aliquet vel ligula. Sed consectetur libero non nibh suscipit, ac lacinia diam tempor. Morbi eu laoreet augue. Mauris facilisis enim non sapien bibendum, id suscipit nisi semper. Sed rutrum, lorem in congue interdum, ligula elit tincidunt justo, congue ultricies dui nisl nec metus. Curabitur vitae sodales enim. Donec lobortis lacus vitae velit fermentum maximus. Nunc quis ante mauris. Vestibulum maximus tortor ac leo sagittis tincidunt. Praesent dignissim vehicula libero vel laoreet. In arcu mi, consectetur nec dui id, volutpat porta enim. Phasellus eu rhoncus erat. Duis ultrices metus non arcu pulvinar, eget fermentum purus dapibus.</p>
        
        <p>Donec id orci eu tortor pellentesque ornare. Fusce mattis sagittis erat quis ullamcorper. Sed porttitor ligula sit amet diam dictum, et blandit odio efficitur. Proin ligula nisi, imperdiet id dui non, viverra elementum sem. Suspendisse dignissim non mauris ac viverra. Nulla dignissim magna nec turpis rutrum consequat in eget nulla. Suspendisse cursus pharetra odio, id cursus lorem sodales eu. Donec eleifend vitae dui eget imperdiet. Duis tristique erat vitae ex ullamcorper vehicula et nec mauris. Quisque interdum nunc dapibus efficitur tristique. Sed id dui eu nibh scelerisque feugiat eget sit amet erat. Sed facilisis leo arcu, at viverra orci pretium a.</p>
        
        <p>Curabitur vel mauris luctus, consectetur tortor non, ullamcorper sem. Pellentesque tempor magna eget lacus lacinia convallis. Vestibulum id erat rutrum libero dapibus dapibus. Fusce in pulvinar dui, quis tempor dolor. Donec vulputate metus ac metus auctor, finibus efficitur nulla fermentum. Fusce sed metus risus. Mauris scelerisque, turpis in faucibus euismod, est leo aliquet arcu, nec venenatis purus turpis et urna. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Suspendisse tincidunt nisi orci, eu commodo ante efficitur vel. Morbi ac pretium erat.</p>
      </div>
      <div id="renderer">
      </div>
      <!-- Le texte des trois boîtes de dialogue sont dans une div invisible -->
      <div style="display:none">
        <a href="articles/article3.html" class="dialogText" id="Box1"></a>
        <a href="articles/article2.html" class="dialogText" id="Box2"></a>
        <a href="articles/article1.html" class="dialogText" id="Box3"></a>
      </div>
      
      <script type="text/javascript" src="3Drender.js"></script>
      
      <script type="text/javascript">
        var TRANSITION_DURATION = 1000;
        var COLORBOX_POP_DURATION = 500;
        
        // On configure les liens ci-dessus pour qu'ils ouvrent une pop-up au lieu de charger une page
        var initialIntroLeft, initialRendererRight, initialNavbarTop;
        var introDOM = $("#introduction"), rendererDOM = $("#renderer"), navbarDOM = $(".navbar");
        
        $(".dialogText").colorbox({width:"85%", height:"100%", onClosed: function ()
          {
            introDOM.css("display", "initial");
            introDOM.animate({ "margin-left": initialIntroLeft }, COLORBOX_POP_DURATION);
            rendererDOM.animate({ "margin-right": initialRendererRight }, COLORBOX_POP_DURATION);
            navbarDOM.css("display", "initial");
            navbarDOM.animate({ "margin-top": initialNavbarTop }, COLORBOX_POP_DURATION);
          }})
        .on("click", function ()
            {
              initialIntroLeft = introDOM.css("margin-left");
              initialRendererRight = rendererDOM.css("margin-right");
              initialNavbarTop = navbarDOM.css("margin-top");
              introDOM.animate({ "margin-left": "-" + introDOM.css("width")}, COLORBOX_POP_DURATION, function () introDOM.css("display", "none"));
              rendererDOM.animate({ "margin-right": "25%" });
              navbarDOM.animate({ "margin-top": "-" + navbarDOM.css("height") }, COLORBOX_POP_DURATION, function () navbarDOM.css("display", "none"));
            }
        );
        
        // On fait en sorte que le bouton de scroll fasse scroller la page
        $("#scrollDown").on("click", function ()
          {
            var inner = $("#inner"), cover = $("#cover");
            inner.css("display", "block");
            /*cover.animate(
              {"top": -top.offsetHeight + "px"}, 500, "swing", function () $("#cover").css("display", "none"));*/
            cover.animate(
              {"top": -cover.height() + "px"}, TRANSITION_DURATION);
            inner.animate(
              {"top": cover.css("top") }, TRANSITION_DURATION);
            $(".navbar").animate({"top": "-3vw"}, TRANSITION_DURATION);
            $("#subtitle").animate({"opacity": "0"}, TRANSITION_DURATION);
          }
        );
      </script>
    </div>
  </body>
</html>
